(function(t){function e(e){for(var r,o,c=e[0],s=e[1],l=e[2],u=0,v=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&v.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(v.length)v.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,c=1;c<a.length;c++){var s=a[c];0!==i[s]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},i={app:0},n=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/calendar-feeds-ui/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=s;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.pageTitle,expression:"pageTitle"}],attrs:{id:"inspire"}},[t.isWechatWebview?a("v-banner",{attrs:{app:"","single-line":"",dark:"",sticky:"",color:"warning"}},[a("v-icon",{attrs:{slot:"icon",large:"",color:"white"},slot:"icon"},[t._v(" mdi-alert ")]),t._v(" 请在浏览器中打开 "),a("v-avatar",{attrs:{slot:"actions",color:"deep-purple accent-4",size:"40"},slot:"actions"},[a("v-icon",{staticClass:"jump-animation",attrs:{color:"white"}},[t._v(" mdi-arrow-up-bold ")])],1)],1):t._e(),a("v-snackbar",{attrs:{app:"",top:"","multi-line":"",color:"error"},model:{value:t.showError,callback:function(e){t.showError=e},expression:"showError"}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.errorIcon))]),t._v(t._s(t.errorTitle)),a("br"),t._v(t._s(t.errorMsg))],1),a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("bilibili追番日历 _(:з」∠)_")]),a("v-spacer"),a("v-bottom-sheet",{attrs:{inset:"",scrollable:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",large:""}},"v-btn",i,!1),r),[a("v-icon",[t._v("mdi-help-circle-outline")])],1)]}}]),model:{value:t.showQA,callback:function(e){t.showQA=e},expression:"showQA"}},[a("v-card",{staticClass:"rounded-b-0"},[a("v-toolbar",{attrs:{flat:!t.raiseQAtitle,color:"transparent"}},[a("v-toolbar-title",[t._v("Q&A")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showQA=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",{on:{"&scroll":function(e){return t.QAscrolling(e)}}},[a("h3",[t._v(" 不会用怎么办？"),a("v-icon",{attrs:{color:"accent"}},[t._v("mdi-open-in-new")]),a("a",{attrs:{href:"https://b23.tv/Biv1Jg",target:"_blank"}},[t._v("查看视频教程")])],1),a("br"),a("h3",[a("b",[t._v("Q：")]),t._v("b站uid在哪找？"),a("br")]),a("v-divider"),t._v(" app：【我的】-【空间】-【编辑资料】"),a("br"),t._v(" 网页：可以在【个人空间】右侧栏下面找到"),a("br"),a("br"),a("h3",[a("b",[t._v("Q：")]),t._v("提示“用户隐私设置未公开”怎么办？"),a("br")]),a("v-divider"),t._v(" app：【我的】-【空间】- 右上角三个点 - 【空间设置】- 开启【公开显示订阅的番剧】"),a("br"),t._v(" 网页：【个人空间】-【设置】-【隐私设置】- 开启【追番追剧】"),a("br"),a("br"),a("h3",[a("b",[t._v("Q：")]),t._v("为什么要输入uid和公开追番？"),a("br")]),a("v-divider"),a("b",[t._v("A：")]),t._v("因为要用来获取你的追番列表，以免在你的日历里显示你不看的番"),a("br"),a("br"),a("h3",[a("b",[t._v("Q：")]),t._v("为什么点了【订阅日历】以后没有反应？"),a("br")]),a("v-divider"),a("b",[t._v("①")]),t._v(" 请检查是否是在微信等 app 中打开本网页，请尽量使用系统自带浏览器打开 "),a("br"),a("b",[t._v("②")]),t._v(" iOS 设备请耐心等待一会，系统需要一些时间验证日历是否有效"),a("br"),a("b",[t._v("③")]),t._v(" 如果在系统浏览器中也无法订阅，可能是你的系统日历不支持 webcal，请拷贝 ICS 链接后使用微软 Outlook 或者 Google 日历等支持 webcal 订阅的日历软件添加订阅"),a("br"),a("br"),a("v-icon",{attrs:{left:""}},[t._v("mdi-email-send-outline")]),t._v("联系作者："),a("a",{attrs:{href:"mailto:hi94740@qq.com"}},[t._v("hi94740@qq.com")])],1)],1)],1)],1),a("v-card-text",[a("v-form",{on:{submit:function(t){t.preventDefault()}}},[a("v-text-field",{attrs:{label:t.cantFetchCalendar?"输入你的b站uid来定制追番日历":t.copySuccess?"请确认你的账号信息":"请手动选择并复制链接",name:"buid","prepend-icon":t.cantFetchCalendar?"mdi-account":void 0,type:"text",pattern:"\\d*",inputmode:"numeric",color:"secondary",hint:!t.cantFetchCalendar&&t.showBackHint?"点击左下角箭头可返回上一步":void 0,rules:[t.buidInputErrorMsg],disabled:t.loadingBuidStats,readonly:!t.cantFetchCalendar,loading:t.loadingBuidStats,clearable:Boolean(t.cantFetchCalendar)},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadBuidStats(e)},t.clickInput,function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0))return null;!t.cantFetchCalendar&&t.clearStats()}],click:t.clickInput,blur:t.blurInput},scopedSlots:t._u([{key:"prepend",fn:function(){return[t.cantFetchCalendar?t._e():a("v-avatar",{staticStyle:{left:"-5px",top:"-5px","margin-right":"-5px"},attrs:{size:"34"}},[a("img",{attrs:{src:t.buidStats.userInfo.data.face,alt:t.buidStats.userInfo.data.name}})])]},proxy:!0}]),model:{value:t.inputBuid,callback:function(e){t.inputBuid=e},expression:"inputBuid"}})],1)],1),a("v-scroll-x-reverse-transition",{attrs:{mode:"out-in"}},[t.cantFetchCalendar?a("v-card-actions",{key:"step1actions"},[a("v-spacer"),a("v-btn",{attrs:{rounded:"",color:"secondary",disabled:!t.isBUIDvalid,loading:t.loadingBuidStats},on:{click:t.loadBuidStats}},[t._v("下一步"),a("v-icon",{attrs:{right:"",size:"24"}},[t._v("mdi-arrow-right")])],1)],1):a("v-card-actions",{key:"step2actions"},[a("v-btn",{attrs:{color:"secondary",icon:""},on:{click:t.clearStats}},[a("v-icon",{attrs:{large:""}},[t._v("mdi-chevron-left")])],1),a("v-spacer"),a("v-tooltip",{attrs:{top:"",color:t.copySuccess?"success":"error",transition:t.copySuccess?"scroll-y-reverse-transition":"slide-y-reverse-transition","open-on-click":!1,"open-on-focus":!1,"open-on-hover":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.copyText,expression:"copyText",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copied,expression:"copied",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.copyError,expression:"copyError",arg:"error"}],attrs:{color:"primary",outlined:""}},[a("v-icon",{attrs:{left:"",size:"24"}},[t._v("mdi-link-variant")]),t._v("拷贝ics链接")],1),a("span",t._g({},r))]}}]),model:{value:t.showCopyMsg,callback:function(e){t.showCopyMsg=e},expression:"showCopyMsg"}},[a("div",[a("v-icon",{attrs:{left:"",color:"white"}},[t._v(t._s(t.copySuccess?"mdi-clipboard-check-multiple":"mdi-clipboard-alert-outline"))]),t._v(t._s(t.copySuccess?"拷贝成功！":"拷贝失败！")+" ")],1)]),a("v-btn",{attrs:{color:"secondary",href:"webcal://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid="+t.buid,loading:t.fakeLoading},on:{click:t.fakeLoad}},[a("v-icon",{attrs:{left:"",size:"24"}},[t._v("mdi-calendar-heart")]),t._v("订阅日历")],1)],1)],1)],1)],1)],1)],1)],1)],1)},n=[],o=(a("caad"),a("a15b"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("466d"),a("96cf"),a("1da1")),c=a("85b1"),s={name:"App",data:function(){return{pageTitle:"bilibili追番日历 by hi94740",buid:"",fakeLoading:!1,buidStats:null,loadingBuidStats:!1,errorTitle:"出错了QAQ",errorMsg:"骗你的嘿嘿😋",errorIcon:"mdi-sync-alert",showError:!1,showQA:!1,raiseQAtitle:!1,lastClickedReadonlyInput:0,showBackHint:!1,copySuccess:!0,showCopyMsg:!1,isWechatWebview:navigator.userAgent.toLowerCase().includes("micromessenger")}},computed:{isBUIDvalid:function(){return/^[1-9]\d*$/.test(this.buid)&&parseInt(this.buid)>0},cantFetchCalendar:function(){return!this.buidStats||(0!=this.buidStats.userInfo.code?this.buidStats.userInfo.message:0!=this.buidStats.bangumiFollow.code?this.buidStats.bangumiFollow.message:0===this.buidStats.bangumiFollow.data.list.length&&"你还没订阅番剧呢！")},inputBuid:{get:function(){return this.cantFetchCalendar?this.buid:this.copySuccess?this.buidStats.userInfo.data.name:this.copyText},set:function(t){var e=this;this.buid=t,"string"!==typeof t||/^[1-9]\d*$/.test(t)||this.$nextTick((function(){var a,r,i;return e.buid=(null===t||void 0===t||null===(a=t.match(/\d+/g))||void 0===a||null===(r=a.join(""))||void 0===r||null===(i=r.match(/[1-9]\d*/g))||void 0===i?void 0:i[0])||""}))}},copyText:function(){return"https://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid="+this.buid}},watch:{},methods:{buidInputErrorMsg:function(t){var e;return(null===(e=this.buidStats)||void 0===e?void 0:e.buid)==t?"string"!=typeof this.cantFetchCalendar||this.cantFetchCalendar:""==this.buid||null==this.buid||this.isBUIDvalid||"uid必须是数字！"},fakeLoad:function(){var t=this;this.fakeLoading=!0,setTimeout((function(){return t.fakeLoading=!1}),4e3)},loadBuidStats:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isBUIDvalid||!t.cantFetchCalendar){e.next=24;break}return t.loadingBuidStats=!0,a=t.buid,e.prev=3,e.next=6,fetch("https://calendars.hi94740.workers.dev/bilibili/uid/validate?uid="+a);case 6:if(r=e.sent,r.ok){e.next=9;break}throw r.status+"："+r.statusText;case 9:return e.next=11,r.json();case 11:i=e.sent,i.buid=a,t.buidStats=i,e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](3),console.error(e.t0),t.errorMsg=e.t0.toString(),t.showError=!0;case 21:t.buid="",t.$nextTick((function(){return t.buid=a})),t.loadingBuidStats=!1;case 24:case"end":return e.stop()}}),e,null,[[3,16]])})))()},clearStats:function(){this.buid="",this.buidStats=null,this.copySuccess=!0},closeQA:function(){this.showQA=!1},clickInput:function(){if(this.cantFetchCalendar||this.copySuccess){if(!this.cantFetchCalendar){var t=Date.now();t-this.lastClickedReadonlyInput<3e3&&(this.showBackHint=!0),this.lastClickedReadonlyInput=t}}else setTimeout((function(){document.execCommand("selectall",null,!1)}))},blurInput:function(){this.showBackHint=!1},copyFeedback:function(){this.showCopyMsg=!0,this.copyFeedbackTrailing()},copyFeedbackTrailing:Object(c["a"])((function(){this.showCopyMsg=!1}),1500),copied:function(){this.copySuccess=!0,this.copyFeedback()},copyError:function(){this.copySuccess=!1,this.copyFeedback()},QAscrolling:Object(c["a"])((function(t){this.raiseQAtitle=t.target.scrollTop>0}),100)}},l=s,d=(a("7ea0"),a("2877")),u=a("6544"),v=a.n(u),p=a("7496"),b=a("8212"),h=a("e4e5"),f=a("288c"),y=a("8336"),m=a("b0af"),g=a("99d9"),k=a("62ad"),w=a("a523"),_=a("ce7e"),S=a("4bd4"),x=a("132d"),C=a("f6c4"),F=a("0fd9"),T=a("0789"),B=a("2db4"),I=a("2fa4"),V=a("8654"),A=a("71d9"),O=a("2a7f"),Q=a("3a2f"),j=Object(d["a"])(l,i,n,!1,null,"7ac5ea0c",null),M=j.exports;v()(j,{VApp:p["a"],VAvatar:b["a"],VBanner:h["a"],VBottomSheet:f["a"],VBtn:y["a"],VCard:m["a"],VCardActions:g["a"],VCardText:g["b"],VCol:k["a"],VContainer:w["a"],VDivider:_["a"],VForm:S["a"],VIcon:x["a"],VMain:C["a"],VRow:F["a"],VScrollXReverseTransition:T["c"],VSnackbar:B["a"],VSpacer:I["a"],VTextField:V["a"],VToolbar:A["a"],VToolbarTitle:O["a"],VTooltip:Q["a"]});var E=a("f309"),L=a("fcf4");r["a"].use(E["a"]);var D=window.matchMedia("(prefers-color-scheme: dark)"),P=new E["a"]({theme:{themes:{light:{primary:L["a"].pink.lighten2,secondary:L["a"].pink.lighten1,accent:L["a"].pink.accent1,error:L["a"].yellow.darken3},dark:{primary:L["a"].cyan,secondary:L["a"].cyan.darken1,accent:L["a"].cyan.accent3}},dark:D.matches}}),R=function(t){var e=t.matches;P.framework.theme.dark=e,document.body.style.backgroundColor=e?"#121212":"#FFF"};R(D),D.addEventListener?D.addEventListener("change",R):D.addListener(R);var $=P,z=a("4eb5"),q=a.n(z);r["a"].use(q.a),r["a"].use(a("7876")),r["a"].config.productionTip=!1,new r["a"]({vuetify:$,render:function(t){return t(M)}}).$mount("#app")},"7ea0":function(t,e,a){"use strict";var r=a("859d"),i=a.n(r);i.a},"859d":function(t,e,a){}});
//# sourceMappingURL=app.cf5fce27.js.map