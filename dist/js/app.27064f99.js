(function(t){function a(a){for(var n,o,d=a[0],c=a[1],s=a[2],u=0,f=[];u<d.length;u++)o=d[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(a);while(f.length)f.shift()();return r.push.apply(r,s||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],n=!0,d=1;d<e.length;d++){var c=e[d];0!==i[c]&&(n=!1)}n&&(r.splice(a--,1),t=o(o.s=e[0]))}return t}var n={},i={app:0},r=[];function o(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)o.d(e,n,function(a){return t[a]}.bind(null,n));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/calendar-feeds-ui/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=a,d=d.slice();for(var s=0;s<d.length;s++)a(d[s]);var l=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.pageTitle,expression:"pageTitle"}],attrs:{id:"inspire"}},[e("v-main",[e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[e("v-card",{staticClass:"elevation-12"},[e("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[e("v-toolbar-title",[t._v("bilibili追番日历")]),e("v-spacer"),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[e("v-btn",t._g({attrs:{href:"",icon:"",large:"",target:"_blank"}},n),[e("v-icon",[t._v("mdi-help-circle-outline")])],1)]}}])},[e("span",[t._v(" b站uid在哪找？ "),e("br"),t._v(" 在b站app【我的】-【空间】-【编辑资料】页面可以找到 "),e("br"),t._v(" 网页端可以在【个人空间】右侧栏下面找到 ")])])],1),e("v-card-text",[e("v-form",[e("v-text-field",{attrs:{label:t.cantFetchCalendar?"输入你的b站uid来定制追番日历":"请确认你的账号信息",name:"buid","prepend-icon":t.cantFetchCalendar?"mdi-account":void 0,type:"text",color:"secondary",rules:[t.buidInputErrorMsg],disabled:t.loadingBuidStats,readonly:!t.cantFetchCalendar,loading:t.loadingBuidStats},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[t.cantFetchCalendar?t._e():e("v-avatar",{staticStyle:{"margin-right":"5px"},attrs:{size:"24",left:""}},[e("img",{attrs:{src:t.buidStats.userInfo.data.face,alt:t.buidStats.userInfo.data.name}})])]},proxy:!0}]),model:{value:t.inputBuid,callback:function(a){t.inputBuid=a},expression:"inputBuid"}})],1)],1),e("v-card-actions",[t.cantFetchCalendar?t._e():e("v-btn",{attrs:{color:"secondary",text:""},on:{click:t.clearStats}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-chevron-left")]),t._v("上一步")],1),e("v-spacer"),t.cantFetchCalendar?e("v-btn",{attrs:{color:"secondary",disabled:!t.isBUIDvalid,loading:t.loadingBuidStats},on:{click:t.loadBuidStats}},[t._v("下一步"),e("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-right")])],1):t._e(),t.cantFetchCalendar?t._e():e("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"https://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid="+t.buid,expression:"\n                  'https://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid=' +\n                    buid\n                ",arg:"copy"}],attrs:{color:"primary",outlined:""}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-link-variant")]),t._v("拷贝ics链接")],1),t.cantFetchCalendar?t._e():e("v-btn",{attrs:{color:"secondary",href:"webcal://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid="+t.buid,loading:t.fakeLoading},on:{click:t.fakeLoad}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-heart")]),t._v("订阅日历")],1)],1)],1)],1)],1)],1)],1)],1)},r=[],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("5319"),e("2ca0"),e("96cf"),e("1da1")),d={name:"App",data:function(){return{pageTitle:"bilibili追番日历 by hi94740",buid:"",fakeLoading:!1,buidStats:null,loadingBuidStats:!1}},computed:{isBUIDvalid:function(){return/^[1-9]\d*$/.test(this.buid)&&parseInt(this.buid)>0},cantFetchCalendar:function(){return!this.buidStats||(0!=this.buidStats.userInfo.code?this.buidStats.userInfo.message:0!=this.buidStats.bangumiFollow.code?this.buidStats.bangumiFollow.message:0===this.buidStats.bangumiFollow.data.list.length&&"你还没订阅番剧呢！")},inputBuid:{get:function(){return this.cantFetchCalendar?this.buid:this.buidStats.userInfo.data.name},set:function(t){this.buid=t}}},watch:{buid:function(t){t.startsWith("uid:")&&(this.buid=t.replace("uid:",""))}},methods:{buidInputErrorMsg:function(t){var a,e,n;return(null===(a=this.buidStats)||void 0===a||null===(e=a.userInfo)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.mid)==t?"string"!=typeof this.cantFetchCalendar||this.cantFetchCalendar:""===t||this.isBUIDvalid||"uid必须是数字！"},fakeLoad:function(){var t=this;this.fakeLoading=!0,setTimeout((function(){return t.fakeLoading=!1}),2e3)},loadBuidStats:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loadingBuidStats=!0,e=t.buid,a.next=4,fetch("https://calendars.hi94740.workers.dev/bilibili/uid/validate?uid="+e);case 4:return a.next=6,a.sent.json();case 6:t.buidStats=a.sent,t.buid="",t.$nextTick((function(){return t.buid=e})),t.loadingBuidStats=!1;case 10:case"end":return a.stop()}}),a)})))()},clearStats:function(){this.buid="",this.buidStats=null}}},c=d,s=e("2877"),l=e("6544"),u=e.n(l),f=e("7496"),p=e("8212"),b=e("8336"),v=e("b0af"),h=e("99d9"),g=e("62ad"),m=e("a523"),y=e("4bd4"),k=e("132d"),w=e("f6c4"),S=e("0fd9"),_=e("2fa4"),x=e("8654"),C=e("71d9"),F=e("2a7f"),V=e("3a2f"),B=Object(s["a"])(c,i,r,!1,null,null,null),T=B.exports;u()(B,{VApp:f["a"],VAvatar:p["a"],VBtn:b["a"],VCard:v["a"],VCardActions:h["a"],VCardText:h["b"],VCol:g["a"],VContainer:m["a"],VForm:y["a"],VIcon:k["a"],VMain:w["a"],VRow:S["a"],VSpacer:_["a"],VTextField:x["a"],VToolbar:C["a"],VToolbarTitle:F["a"],VTooltip:V["a"]});var j=e("f309"),I=e("fcf4");n["a"].use(j["a"]);var O=window.matchMedia("(prefers-color-scheme: dark)"),L=new j["a"]({theme:{themes:{light:{primary:I["a"].pink.lighten2,secondary:I["a"].pink.lighten1,accent:I["a"].pink.accent1,error:I["a"].yellow.darken3},dark:{primary:I["a"].cyan.darken2,secondary:I["a"].cyan.darken1,accent:I["a"].cyan.accent4}},dark:O.matches}}),M=function(t){var a=t.matches;return L.framework.theme.dark=a};O.addEventListener?O.addEventListener("change",M):O.addListener(M);var P=L,E=e("4eb5"),A=e.n(E);n["a"].use(A.a),n["a"].use(e("7876")),n["a"].config.productionTip=!1,new n["a"]({vuetify:P,render:function(t){return t(T)}}).$mount("#app")}});
//# sourceMappingURL=app.27064f99.js.map