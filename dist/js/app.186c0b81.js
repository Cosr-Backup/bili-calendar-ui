(function(t){function e(e){for(var n,o,c=e[0],d=e[1],u=e[2],l=0,b=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&b.push(i[o][0]),i[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);s&&s(e);while(b.length)b.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,c=1;c<a.length;c++){var d=a[c];0!==i[d]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/calendar-feeds-ui/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-main",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("bilibili追番日历")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{href:"",icon:"",large:"",target:"_blank"}},n),[a("v-icon",[t._v("mdi-help-circle-outline")])],1)]}}])},[a("span",[t._v(" b站uid在哪找？ "),a("br"),t._v(" 在b站app【我的】-【空间】-【编辑资料】页面可以找到 "),a("br"),t._v(" 网页端可以在【个人空间】右侧栏下面找到 ")])])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:t.cantFetchCalendar?"输入你的b站uid来定制追番日历":"请确认你的b站昵称",name:"buid","prepend-icon":"mdi-account",type:"text",color:"secondary",rules:[t.buidInputErrorMsg],disabled:t.loadingBuidStats||!t.cantFetchCalendar},model:{value:t.inputBuid,callback:function(e){t.inputBuid=e},expression:"inputBuid"}})],1)],1),a("v-card-actions",[t.cantFetchCalendar?t._e():a("v-btn",{attrs:{color:"secondary",text:""},on:{click:t.clearStats}},[t._v("上一步")]),a("v-spacer"),t.cantFetchCalendar?a("v-btn",{attrs:{color:"secondary",disabled:!t.isBUIDvalid,loading:t.loadingBuidStats},on:{click:t.loadBuidStats}},[t._v("下一步")]):t._e(),t.cantFetchCalendar?t._e():a("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"https://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid="+t.buid,expression:"\n                  'https://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid=' +\n                    buid\n                ",arg:"copy"}],attrs:{color:"primary",outlined:""}},[t._v("拷贝ics链接")]),t.cantFetchCalendar?t._e():a("v-btn",{attrs:{color:"secondary",href:"webcal://calendars.hi94740.workers.dev/bilibili/bangumi.ics?uid="+t.buid,loading:t.fakeLoading},on:{click:t.fakeLoad}},[t._v("订阅日历")])],1)],1)],1)],1)],1)],1)],1)},r=[],o=(a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("2ca0"),a("96cf"),a("1da1")),c={name:"App",data:function(){return{buid:"",fakeLoading:!1,buidStats:null,loadingBuidStats:!1}},computed:{isBUIDvalid:function(){return/^[1-9]\d*$/.test(this.buid)&&parseInt(this.buid)>0},cantFetchCalendar:function(){return!this.buidStats||(0!=this.buidStats.userInfo.code?this.buidStats.userInfo.message:0!=this.buidStats.bangumiFollow.code?this.buidStats.bangumiFollow.message:0===this.buidStats.bangumiFollow.data.list.length&&"你还没订阅番剧呢！")},inputBuid:{get:function(){return this.cantFetchCalendar?this.buid:this.buidStats.userInfo.data.name},set:function(t){this.buid=t}}},watch:{buid:function(t){t.startsWith("uid:")&&(this.buid=t.replace("uid:",""))}},methods:{buidInputErrorMsg:function(t){var e,a,n;return(null===(e=this.buidStats)||void 0===e||null===(a=e.userInfo)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.mid)==t?"string"!=typeof this.cantFetchCalendar||this.cantFetchCalendar:""===t||this.isBUIDvalid||"uid必须是数字！"},fakeLoad:function(){var t=this;this.fakeLoading=!0,setTimeout((function(){return t.fakeLoading=!1}),2e3)},loadBuidStats:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingBuidStats=!0,a=t.buid,e.next=4,fetch("https://calendars.hi94740.workers.dev/bilibili/uid/validate?uid="+a);case 4:return e.next=6,e.sent.json();case 6:t.buidStats=e.sent,t.buid="",t.$nextTick((function(){return t.buid=a})),t.loadingBuidStats=!1;case 10:case"end":return e.stop()}}),e)})))()},clearStats:function(){this.buid="",this.buidStats=null}}},d=c,u=a("2877"),s=a("6544"),l=a.n(s),b=a("7496"),f=a("8336"),p=a("b0af"),h=a("99d9"),v=a("62ad"),m=a("a523"),g=a("4bd4"),y=a("132d"),k=a("f6c4"),w=a("0fd9"),S=a("2fa4"),_=a("8654"),x=a("71d9"),C=a("2a7f"),V=a("3a2f"),B=Object(u["a"])(d,i,r,!1,null,null,null),F=B.exports;l()(B,{VApp:b["a"],VBtn:f["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VCol:v["a"],VContainer:m["a"],VForm:g["a"],VIcon:y["a"],VMain:k["a"],VRow:w["a"],VSpacer:S["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:C["a"],VTooltip:V["a"]});var j=a("f309"),O=a("fcf4");n["a"].use(j["a"]);var I=window.matchMedia("(prefers-color-scheme: dark)"),T=new j["a"]({theme:{themes:{light:{primary:O["a"].pink.lighten2,secondary:O["a"].pink.lighten1,accent:O["a"].pink.accent1,error:O["a"].yellow.accent4},dark:{primary:O["a"].cyan.darken2,secondary:O["a"].cyan.darken1,accent:O["a"].cyan.accent4}},dark:I.matches}}),L=function(t){var e=t.matches;return T.framework.theme.dark=e};I.addEventListener?I.addEventListener("change",L):I.addListener(L);var M=T,P=a("4eb5"),E=a.n(P);n["a"].use(E.a),n["a"].config.productionTip=!1,new n["a"]({vuetify:M,render:function(t){return t(F)}}).$mount("#app")}});
//# sourceMappingURL=app.186c0b81.js.map